<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; media-src 'self' mediastream:">
  <title>Chatty Cathy - Classroom Noise Monitor</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Main Screen -->
  <div id="mainScreen" class="screen active">
    <button id="settingsBtn" class="settings-gear" title="Settings">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/>
      </svg>
    </button>
    <div class="volume-meter">
      <div class="meter-container" id="meterContainer">
        <div class="meter-fill" id="meterFill"></div>
        <div class="meter-segments" id="meterSegments"></div>
      </div>
      <div class="meter-label">VOLUME</div>
    </div>
    <div class="main-content">
      <header class="top-controls">
        <div class="title-section">
          <h1>Chatty Cathy</h1>
          <p>Classroom Noise Monitor</p>
        </div>
        <div class="controls-section">
          <div class="mic-selector">
            <label for="micSelect">Microphone:</label>
            <select id="micSelect"></select>
          </div>
          <button id="startBtn" class="start-button">Start Monitoring</button>
        </div>
      </header>
      <div class="teacher-display" id="teacherDisplay">
        <div class="teacher-placeholder">
          <p>Start monitoring to see the teacher's reaction!</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Settings Screen -->
  <div id="settingsScreen" class="screen">
    <button id="backBtn" class="back-button" title="Back">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8l8 8l1.41-1.41L7.83 13H20v-2z"/>
      </svg>
      Back
    </button>
    <div class="settings-container">
      <nav class="settings-sidebar">
        <button class="sidebar-btn active" data-panel="classes">Classes</button>
        <button class="sidebar-btn" data-panel="levels">Levels</button>
      </nav>
      <div class="settings-content">
        <div id="classesPanel" class="settings-panel active">
          <h2>Classes</h2>
          <p>Configure your classes here.</p>
        </div>
        <div id="levelsPanel" class="settings-panel">
          <h2>Levels</h2>
          <p>Configure noise levels here.</p>
        </div>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
